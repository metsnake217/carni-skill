"use strict";var alexaSsml=require("alexa-ssml"),babelHelpers={};babelHelpers["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},babelHelpers.classCallCheck=function(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function e(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(s,t,n){return t&&e(s.prototype,t),n&&e(s,n),s}}(),babelHelpers["extends"]=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},babelHelpers.objectWithoutProperties=function(e,s){var t={};for(var n in e)s.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t};var CardType={LinkAccount:"LinkAccount",Simple:"Simple",Standard:"Standard"},SpeechType={PlainText:"PlainText",SSML:"SSML"},Response=function(){function e(){var s=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];babelHelpers.classCallCheck(this,e),this.state=s}return babelHelpers.createClass(e,[{key:"ask",value:function(e,s){return this.say(e,s).shouldEndSession(!1)}},{key:"say",value:function(s,t){return new e(babelHelpers["extends"]({},this.state,{response:babelHelpers["extends"]({},this.state.response,{shouldEndSession:!0},outputSpeech(s,t))}))}},{key:"reprompt",value:function(s,t){return new e(babelHelpers["extends"]({},this.state,{response:babelHelpers["extends"]({},this.state.response,{reprompt:babelHelpers["extends"]({},outputSpeech(s,t))})}))}},{key:"card",value:function(s){var t=s.type,n=void 0===t?CardType.Simple:t,r=babelHelpers.objectWithoutProperties(s,["type"]);return new e(babelHelpers["extends"]({},this.state,{response:babelHelpers["extends"]({},this.state.response,{card:babelHelpers["extends"]({},r,n&&{type:n})})}))}},{key:"attributes",value:function(s){return new e(babelHelpers["extends"]({},this.state,{sessionAttributes:babelHelpers["extends"]({},this.state.sessionAttributes,s)}))}},{key:"shouldEndSession",value:function(s){return new e(babelHelpers["extends"]({},this.state,{response:babelHelpers["extends"]({},this.state.response,{shouldEndSession:s})}))}},{key:"build",value:function(e){return babelHelpers["extends"]({version:"1.0"},this.state,{response:babelHelpers["extends"]({shouldEndSession:!0},this.state.response)},e||this.state.sessionAttributes?{sessionAttributes:babelHelpers["extends"]({},e,this.state.sessionAttributes)}:null)}}]),e}();Response.ask=function(){var e;return(e=new Response).ask.apply(e,arguments)},Response.say=function(){var e;return(e=new Response).say.apply(e,arguments)},Response.card=function(){var e;return(e=new Response).card.apply(e,arguments)},Response.reprompt=function(){var e;return(e=new Response).reprompt.apply(e,arguments)},Response.shouldEndSession=function(){var e;return(e=new Response).shouldEndSession.apply(e,arguments)},Response.build=function(e){return Object.keys(e).reduce(function(s,t){var n=e[t],r="string"==typeof n?n:n,o="string"==typeof n?void 0:n.type;switch(t){case"ask":return s.ask(r,o);case"say":return s.say(r,o);case"reprompt":return s.reprompt(r,o);case"card":return s.card(n);case"attributes":return s.attributes(n);case"shouldEndSession":return s.shouldEndSession(n)}},new Response)};var outputSpeech=function(e){var s=arguments.length<=1||void 0===arguments[1]?SpeechType.PlainText:arguments[1];if(s===SpeechType.SSML||"object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))){var t="object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))?alexaSsml.renderToString(e):e;return{outputSpeech:{type:SpeechType.SSML,ssml:t}}}return{outputSpeech:{type:s,text:e}}},ask=Response.ask,say=Response.say,card=Response.card,reprompt=Response.reprompt,shouldEndSession=Response.shouldEndSession,build=Response.build;exports.CardType=CardType,exports.SpeechType=SpeechType,exports["default"]=Response,exports.ask=ask,exports.say=say,exports.card=card,exports.reprompt=reprompt,exports.shouldEndSession=shouldEndSession,exports.build=build;